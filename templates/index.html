{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero" style="background: linear-gradient(135deg, var(--md-sys-color-primary-container) 0%, var(--md-sys-color-secondary-container) 100%); min-height: 60vh; display: flex; align-items: center; position: relative; overflow: hidden;">
    <div class="hero-bg-pattern" style="position: absolute; inset: 0; opacity: 0.1;">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                    <circle cx="20" cy="20" r="1.5" fill="currentColor"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)" />
        </svg>
    </div>
    
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 48px; align-items: center;">
            <div>
                <h1 style="font-size: var(--md-sys-typescale-display-large); font-weight: 700; margin-bottom: 24px; color: var(--md-sys-color-on-primary-container);">
                    MEDLEY
                </h1>
                <p style="font-size: var(--md-sys-typescale-headline-small); margin-bottom: 16px; color: var(--md-sys-color-on-primary-container);">
                    Medical AI Ensemble System
                </p>
                <p style="font-size: var(--md-sys-typescale-body-large); margin-bottom: 32px; opacity: 0.9;">
                    Orchestrating 31 diverse AI models to provide comprehensive, bias-aware medical diagnostic insights through consensus-based analysis.
                </p>
                <div style="display: flex; gap: 16px; flex-wrap: wrap;">
                    <button class="btn btn-filled" onclick="scrollToSection('cases')">
                        <span class="material-symbols-rounded">folder_open</span>
                        Explore Cases
                    </button>
                    <button class="btn btn-tonal" onclick="scrollToSection('how-it-works')">
                        <span class="material-symbols-rounded">info</span>
                        How It Works
                    </button>
                    <button class="btn btn-outlined" onclick="scrollToSection('models')">
                        <span class="material-symbols-rounded">psychology</span>
                        View Models
                    </button>
                </div>
            </div>
            
            <div class="hero-visual" style="position: relative;">
                <div class="floating-card" style="animation: float 6s ease-in-out infinite;">
                    <div class="card" style="transform: rotate(-3deg);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div style="width: 48px; height: 48px; border-radius: 12px; background: var(--md-sys-color-primary); display: flex; align-items: center; justify-content: center;">
                                <span class="material-symbols-rounded" style="color: white;">psychology</span>
                            </div>
                            <div>
                                <div style="font-weight: 600;">31 AI Models</div>
                                <div style="font-size: 12px; opacity: 0.7;">From 8 organizations</div>
                            </div>
                        </div>
                        <div class="chip-container" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <span class="chip">OpenAI</span>
                            <span class="chip">Anthropic</span>
                            <span class="chip">Google</span>
                            <span class="chip">Meta</span>
                            <span class="chip">Mistral</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section id="how-it-works" style="padding: 80px 24px; background: var(--md-sys-color-surface);">
    <div class="container" style="max-width: 1200px; margin: 0 auto;">
        <h2 style="font-size: var(--md-sys-typescale-display-small); text-align: center; margin-bottom: 16px;">
            How MEDLEY Works
        </h2>
        <p style="text-align: center; max-width: 800px; margin: 0 auto 48px; font-size: var(--md-sys-typescale-body-large); color: var(--md-sys-color-on-surface-variant);">
            <strong style="color: var(--md-sys-color-primary);">Diversity drives accuracy.</strong> 
            By combining perspectives from 31 AI models trained on different datasets across various cultures and regions, 
            MEDLEY provides comprehensive diagnostic insights with evidence-based reasoning.
        </p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px; margin-bottom: 48px;">
            <!-- Step 1 -->
            <div class="card">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--md-sys-color-primary-container); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 20px;">
                        1
                    </div>
                    <h3 style="font-size: var(--md-sys-typescale-title-large);">Input Case</h3>
                </div>
                <p style="color: var(--md-sys-color-on-surface-variant);">
                    Submit comprehensive patient information including symptoms, history, labs, and imaging findings.
                </p>
            </div>
            
            <!-- Step 2 -->
            <div class="card">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--md-sys-color-secondary-container); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 20px;">
                        2
                    </div>
                    <h3 style="font-size: var(--md-sys-typescale-title-large);">Diverse AI Analysis</h3>
                </div>
                <p style="color: var(--md-sys-color-on-surface-variant);">
                    <strong>31 diverse AI models</strong> from USA, Europe, China, and more analyze independently, reducing single-model bias.
                </p>
            </div>
            
            <!-- Step 3 -->
            <div class="card">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--md-sys-color-tertiary-container); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 20px;">
                        3
                    </div>
                    <h3 style="font-size: var(--md-sys-typescale-title-large);">Evidence Synthesis</h3>
                </div>
                <p style="color: var(--md-sys-color-on-surface-variant);">
                    Orchestrator builds consensus while preserving <strong>all differential diagnoses</strong> with supporting evidence.
                </p>
            </div>
            
            <!-- Step 4 -->
            <div class="card">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--md-sys-color-error-container); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 20px;">
                        4
                    </div>
                    <h3 style="font-size: var(--md-sys-typescale-title-large);">Physician Decision</h3>
                </div>
                <p style="color: var(--md-sys-color-on-surface-variant);">
                    <strong>Human-in-the-loop:</strong> Physician reviews all evidence and alternatives to make the final clinical decision.
                </p>
            </div>
        </div>
        
        <!-- Key Principles -->
        <div class="card" style="background: linear-gradient(135deg, var(--md-sys-color-primary-container) 0%, var(--md-sys-color-secondary-container) 100%); margin-bottom: 48px;">
            <h3 style="font-size: var(--md-sys-typescale-headline-small); margin-bottom: 24px; text-align: center;">
                Why Diversity Matters in Medical AI
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px;">
                <div>
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <span class="material-symbols-rounded" style="font-size: 28px; color: var(--md-sys-color-primary);">diversity_3</span>
                        <h4 style="font-size: var(--md-sys-typescale-title-medium);">Reduces Bias</h4>
                    </div>
                    <p style="font-size: 14px;">
                        Models trained on different populations catch diagnoses others might miss. 
                        Geographic and cultural diversity ensures comprehensive coverage.
                    </p>
                </div>
                
                <div>
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <span class="material-symbols-rounded" style="font-size: 28px; color: var(--md-sys-color-secondary);">fact_check</span>
                        <h4 style="font-size: var(--md-sys-typescale-title-medium);">Evidence-Based</h4>
                    </div>
                    <p style="font-size: 14px;">
                        Every diagnosis comes with supporting evidence and reasoning. 
                        Models must justify their conclusions with clinical data.
                    </p>
                </div>
                
                <div>
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <span class="material-symbols-rounded" style="font-size: 28px; color: var(--md-sys-color-tertiary);">psychology_alt</span>
                        <h4 style="font-size: var(--md-sys-typescale-title-medium);">Preserves Alternatives</h4>
                    </div>
                    <p style="font-size: 14px;">
                        All differential diagnoses are retained, even minority opinions. 
                        Rare conditions aren't overlooked by consensus averaging.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Interactive Flow Diagram -->
        <div class="card" style="padding: 32px; background: var(--md-sys-color-surface-variant); margin-bottom: 48px;">
            <h4 style="text-align: center; margin-bottom: 24px; font-size: var(--md-sys-typescale-title-medium);">
                Evidence-Based Consensus Building with Human-in-the-Loop
            </h4>
            
            <style>
                @keyframes dataFlow {
                    0% { stroke-dashoffset: 50; }
                    100% { stroke-dashoffset: 0; }
                }
                
                .flow-arrow {
                    stroke-dasharray: 50;
                    animation: dataFlow 2s linear infinite;
                }
            </style>
            
            <svg viewBox="0 0 900 250" style="width: 100%; height: auto;">
                <!-- Flow arrows -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="var(--md-sys-color-primary)" />
                    </marker>
                    
                    <!-- Gradient definitions -->
                    <linearGradient id="flowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:var(--md-sys-color-primary);stop-opacity:0.5" />
                        <stop offset="100%" style="stop-color:var(--md-sys-color-secondary);stop-opacity:1" />
                    </linearGradient>
                </defs>
                
                <!-- Case Input -->
                <g>
                    <rect x="20" y="85" width="100" height="80" rx="12" fill="var(--md-sys-color-primary-container)" />
                    <text x="70" y="120" text-anchor="middle" font-size="13" font-weight="500">Patient Case</text>
                    <text x="70" y="135" text-anchor="middle" font-size="10" fill="var(--md-sys-color-outline)">History, Labs</text>
                </g>
                
                <!-- Arrow to Models -->
                <line class="flow-arrow" x1="120" y1="125" x2="160" y2="125" stroke="url(#flowGradient)" stroke-width="3" marker-end="url(#arrowhead)" />
                
                <!-- AI Models - Show Diversity -->
                <g transform="translate(160, 50)">
                    <text x="50" y="-5" text-anchor="middle" font-size="11" font-weight="600">31 Diverse Models</text>
                    
                    <rect x="0" y="10" width="100" height="25" rx="6" fill="var(--md-sys-color-secondary-container)" />
                    <text x="50" y="27" text-anchor="middle" font-size="10">USA Models</text>
                    
                    <rect x="0" y="40" width="100" height="25" rx="6" fill="var(--md-sys-color-secondary-container)" />
                    <text x="50" y="57" text-anchor="middle" font-size="10">EU Models</text>
                    
                    <rect x="0" y="70" width="100" height="25" rx="6" fill="var(--md-sys-color-secondary-container)" />
                    <text x="50" y="87" text-anchor="middle" font-size="10">Asian Models</text>
                    
                    <rect x="0" y="100" width="100" height="25" rx="6" fill="var(--md-sys-color-secondary-container)" />
                    <text x="50" y="117" text-anchor="middle" font-size="10">Open Source</text>
                </g>
                
                <!-- Arrow to Orchestrator -->
                <line class="flow-arrow" x1="260" y1="125" x2="300" y2="125" stroke="url(#flowGradient)" stroke-width="3" marker-end="url(#arrowhead)" />
                
                <!-- Orchestrator with Evidence -->
                <g>
                    <rect x="300" y="85" width="140" height="80" rx="12" fill="var(--md-sys-color-tertiary-container)" />
                    <text x="370" y="115" text-anchor="middle" font-size="13" font-weight="500">Evidence Synthesis</text>
                    <text x="370" y="130" text-anchor="middle" font-size="9" fill="var(--md-sys-color-outline)">Primary + All Alternatives</text>
                    <text x="370" y="145" text-anchor="middle" font-size="9" fill="var(--md-sys-color-outline)">with Supporting Evidence</text>
                </g>
                
                <!-- Arrow to Report -->
                <line class="flow-arrow" x1="440" y1="125" x2="480" y2="125" stroke="url(#flowGradient)" stroke-width="3" marker-end="url(#arrowhead)" />
                
                <!-- Comprehensive Report with Diagnosis Options -->
                <g>
                    <rect x="480" y="50" width="120" height="130" rx="12" fill="var(--md-sys-color-primary-container)" />
                    <text x="540" y="70" text-anchor="middle" font-size="12" font-weight="600">Full Report</text>
                    
                    <!-- Three diagnosis types -->
                    <rect x="490" y="80" width="100" height="20" rx="4" fill="var(--md-sys-color-primary)" opacity="0.8" />
                    <text x="540" y="94" text-anchor="middle" font-size="9" fill="white">Primary (≥30%)</text>
                    
                    <rect x="490" y="105" width="100" height="20" rx="4" fill="var(--md-sys-color-secondary)" opacity="0.8" />
                    <text x="540" y="119" text-anchor="middle" font-size="9" fill="white">Alternative (10-29%)</text>
                    
                    <rect x="490" y="130" width="100" height="20" rx="4" fill="var(--md-sys-color-tertiary)" opacity="0.8" />
                    <text x="540" y="144" text-anchor="middle" font-size="9" fill="white">Minority (<10%)</text>
                    
                    <text x="540" y="165" text-anchor="middle" font-size="8" fill="var(--md-sys-color-outline)">All with evidence</text>
                </g>
                
                <!-- Three arrows from report to physician showing choices -->
                <line class="flow-arrow" x1="600" y1="90" x2="640" y2="110" stroke="var(--md-sys-color-primary)" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7" />
                <line class="flow-arrow" x1="600" y1="115" x2="640" y2="125" stroke="var(--md-sys-color-secondary)" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7" />
                <line class="flow-arrow" x1="600" y1="140" x2="640" y2="140" stroke="var(--md-sys-color-tertiary)" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.7" />
                
                <!-- Physician Decision -->
                <g>
                    <rect x="640" y="85" width="120" height="80" rx="12" fill="var(--md-sys-color-error-container)" stroke="var(--md-sys-color-error)" stroke-width="2" />
                    <text x="700" y="105" text-anchor="middle" font-size="13" font-weight="600">Physician</text>
                    <text x="700" y="120" text-anchor="middle" font-size="10" font-weight="500">Reviews All Options</text>
                    <text x="700" y="135" text-anchor="middle" font-size="9" fill="var(--md-sys-color-on-error-container)">Considers Minorities</text>
                    <text x="700" y="150" text-anchor="middle" font-size="9" fill="var(--md-sys-color-on-error-container)">Final Decision</text>
                    
                    <!-- Human icon above -->
                    <circle cx="700" cy="65" r="8" fill="var(--md-sys-color-error)" />
                    <path d="M 692 75 Q 700 70 708 75" fill="var(--md-sys-color-error)" />
                </g>
                
                <!-- Key insights below - no animation class -->
                <g>
                    <text x="210" y="220" text-anchor="middle" font-size="10" fill="var(--md-sys-color-primary)" font-weight="600">Diversity</text>
                    <text x="210" y="235" text-anchor="middle" font-size="9" fill="var(--md-sys-color-outline)">Reduces Bias</text>
                    
                    <text x="370" y="220" text-anchor="middle" font-size="10" fill="var(--md-sys-color-tertiary)" font-weight="600">Evidence</text>
                    <text x="370" y="235" text-anchor="middle" font-size="9" fill="var(--md-sys-color-outline)">Justifies Decisions</text>
                    
                    <text x="540" y="220" text-anchor="middle" font-size="10" fill="var(--md-sys-color-primary)" font-weight="600">Comprehensive</text>
                    <text x="540" y="235" text-anchor="middle" font-size="9" fill="var(--md-sys-color-outline)">Nothing Missed</text>
                    
                    <text x="700" y="220" text-anchor="middle" font-size="10" fill="var(--md-sys-color-error)" font-weight="600">Human Control</text>
                    <text x="700" y="235" text-anchor="middle" font-size="9" fill="var(--md-sys-color-outline)">Final Authority</text>
                </g>
            </svg>
        </div>
    </div>
</section>

<!-- Model Gallery Section -->
<section id="models" style="padding: 80px 24px; background: var(--md-sys-color-surface-variant);">
    <div class="container" style="max-width: 1200px; margin: 0 auto;">
        <h2 style="font-size: var(--md-sys-typescale-display-small); text-align: center; margin-bottom: 16px;">
            31 AI Models from Around the World
        </h2>
        <p style="text-align: center; color: var(--md-sys-color-on-surface-variant); margin-bottom: 48px;">
            Geographic and cultural diversity reduces diagnostic blind spots
        </p>
        
        <!-- Model Statistics -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; margin-bottom: 48px;">
            <div class="card" style="text-align: center; padding: 16px;">
                <div style="font-size: 32px; font-weight: bold; color: var(--md-sys-color-primary);">31</div>
                <div style="font-size: 12px; color: var(--md-sys-color-on-surface-variant);">Total Models</div>
            </div>
            <div class="card" style="text-align: center; padding: 16px;">
                <div style="font-size: 32px; font-weight: bold; color: var(--md-sys-color-secondary);">6</div>
                <div style="font-size: 12px; color: var(--md-sys-color-on-surface-variant);">Countries</div>
            </div>
            <div class="card" style="text-align: center; padding: 16px;">
                <div style="font-size: 32px; font-weight: bold; color: var(--md-sys-color-tertiary);">8</div>
                <div style="font-size: 12px; color: var(--md-sys-color-on-surface-variant);">Organizations</div>
            </div>
            <div class="card" style="text-align: center; padding: 16px;">
                <div style="font-size: 32px; font-weight: bold; color: var(--md-sys-color-error);">4</div>
                <div style="font-size: 12px; color: var(--md-sys-color-on-surface-variant);">Open Source</div>
            </div>
        </div>
        
        <!-- Model Grid by Organization -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px;">
            <!-- OpenAI Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🇺🇸</span>
                    OpenAI (5 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• GPT-4o</div>
                    <div>• GPT-4o-mini</div>
                    <div>• o1-preview</div>
                    <div>• o1-mini</div>
                    <div>• GPT-4 Turbo</div>
                </div>
            </div>
            
            <!-- Anthropic Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🇺🇸</span>
                    Anthropic (3 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• Claude 3.5 Sonnet</div>
                    <div>• Claude 3 Opus</div>
                    <div>• Claude 3 Haiku</div>
                </div>
            </div>
            
            <!-- Google Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🇺🇸</span>
                    Google (6 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• Gemini Pro 1.5</div>
                    <div>• Gemini Pro</div>
                    <div>• Gemini Flash 1.5</div>
                    <div>• Gemma 2 (27B, 9B)</div>
                    <div>• Gemma 7B IT</div>
                </div>
            </div>
            
            <!-- Meta Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🇺🇸</span>
                    Meta (2 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• Llama 3.1 (405B)</div>
                    <div>• Llama 3.1 (70B)</div>
                </div>
            </div>
            
            <!-- Chinese Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🇨🇳</span>
                    Chinese AI (6 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• DeepSeek Chat V2.5</div>
                    <div>• Qwen 2.5 (72B)</div>
                    <div>• Qwen 2.5 Coder</div>
                    <div>• Yi Large</div>
                    <div>• GLM-4 Plus</div>
                    <div>• Doubao Pro 32k</div>
                </div>
            </div>
            
            <!-- European Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🇫🇷</span>
                    European AI (3 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• Mistral Large</div>
                    <div>• Mistral Nemo</div>
                    <div>• Mistral 7B Instruct</div>
                </div>
            </div>
            
            <!-- Other Models -->
            <div class="card">
                <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                    <span style="font-size: 20px;">🌍</span>
                    Other Origins (6 models)
                </h4>
                <div style="font-size: 13px; line-height: 1.8;">
                    <div>• xAI Grok 2 <span style="opacity: 0.6;">(USA)</span></div>
                    <div>• Cohere Command R+ <span style="opacity: 0.6;">(Canada)</span></div>
                    <div>• Perplexity Llama <span style="opacity: 0.6;">(USA)</span></div>
                    <div>• Phi-3 Medium <span style="opacity: 0.6;">(Microsoft)</span></div>
                    <div>• Dolphin Mixtral <span style="opacity: 0.6;">(Open)</span></div>
                    <div>• Solar Pro <span style="opacity: 0.6;">(Korea)</span></div>
                </div>
            </div>
        </div>
        
        <!-- Bias Notice -->
        <div class="card" style="background: var(--md-sys-color-tertiary-container); margin-top: 32px; padding: 24px;">
            <h4 style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                <span class="material-symbols-rounded">info</span>
                Why Model Diversity Matters
            </h4>
            <p style="font-size: 14px; line-height: 1.6; margin: 0;">
                Each model carries inherent biases from its training data and origin. Models trained in different regions may better recognize conditions prevalent in their geographic areas. 
                By combining perspectives from USA, Europe, China, and other regions, MEDLEY reduces the risk of missing diagnoses due to geographic or cultural blind spots.
            </p>
        </div>
    </div>
</section>

<!-- Pre-defined Cases Section -->
<section id="cases" style="padding: 80px 24px; background: var(--md-sys-color-background);">
    <div class="container" style="max-width: 1200px; margin: 0 auto;">
        <h2 style="font-size: var(--md-sys-typescale-display-small); text-align: center; margin-bottom: 16px;">
            Explore Medical Cases
        </h2>
        <p style="text-align: center; color: var(--md-sys-color-on-surface-variant); margin-bottom: 48px;">
            Select from our library of pre-analyzed complex medical cases
        </p>
        
        <div id="cases-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 24px;">
            <!-- Cases will be loaded here dynamically -->
        </div>
    </div>
</section>

<!-- Features Section -->
<section style="padding: 80px 24px; background: var(--md-sys-color-surface);">
    <div class="container" style="max-width: 1200px; margin: 0 auto;">
        <h2 style="font-size: var(--md-sys-typescale-display-small); text-align: center; margin-bottom: 48px;">
            Key Features
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px;">
            <div class="card-outlined">
                <span class="material-symbols-rounded" style="font-size: 32px; color: var(--md-sys-color-primary); margin-bottom: 16px; display: block;">diversity_3</span>
                <h3 style="margin-bottom: 8px;">Diverse Perspectives</h3>
                <p style="font-size: var(--md-sys-typescale-body-medium); color: var(--md-sys-color-on-surface-variant);">
                    Models from USA, Europe, China, and more provide global diagnostic viewpoints.
                </p>
            </div>
            
            <div class="card-outlined">
                <span class="material-symbols-rounded" style="font-size: 32px; color: var(--md-sys-color-secondary); margin-bottom: 16px; display: block;">balance</span>
                <h3 style="margin-bottom: 8px;">Bias Detection</h3>
                <p style="font-size: var(--md-sys-typescale-body-medium); color: var(--md-sys-color-on-surface-variant);">
                    Identifies and attributes potential biases based on model origin and training.
                </p>
            </div>
            
            <div class="card-outlined">
                <span class="material-symbols-rounded" style="font-size: 32px; color: var(--md-sys-color-tertiary); margin-bottom: 16px; display: block;">hub</span>
                <h3 style="margin-bottom: 8px;">Consensus Building</h3>
                <p style="font-size: var(--md-sys-typescale-body-medium); color: var(--md-sys-color-on-surface-variant);">
                    Sophisticated orchestration identifies agreement while preserving minority opinions.
                </p>
            </div>
            
            <div class="card-outlined">
                <span class="material-symbols-rounded" style="font-size: 32px; color: var(--md-sys-color-error); margin-bottom: 16px; display: block;">description</span>
                <h3 style="margin-bottom: 8px;">Comprehensive Reports</h3>
                <p style="font-size: var(--md-sys-typescale-body-medium); color: var(--md-sys-color-on-surface-variant);">
                    Detailed PDF and interactive HTML reports with evidence and reasoning.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Floating Action Button -->
<button class="fab extended" onclick="window.location.href='/analyze'">
    <span class="material-symbols-rounded">add</span>
    <span style="margin-left: 8px;">Analyze New Case</span>
</button>

<style>
    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(-3deg); }
        50% { transform: translateY(-20px) rotate(-3deg); }
    }
    
    .case-card {
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .case-card:hover {
        transform: translateY(-4px);
    }
    
    .specialty-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 16px;
        font-size: 12px;
        font-weight: 500;
        background: var(--md-sys-color-primary-container);
        color: var(--md-sys-color-on-primary-container);
    }
    
    .complexity-indicator {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        font-size: 12px;
        color: var(--md-sys-color-on-surface-variant);
    }
</style>

<script>
    // Load cases on page load
    document.addEventListener('DOMContentLoaded', function() {
        loadCases();
    });
    
    function loadCases() {
        fetch('/api/cases')
            .then(response => response.json())
            .then(cases => {
                const grid = document.getElementById('cases-grid');
                grid.innerHTML = '';
                
                cases.forEach(caseData => {
                    const card = createCaseCard(caseData);
                    grid.appendChild(card);
                });
            })
            .catch(error => {
                console.error('Error loading cases:', error);
            });
    }
    
    function createCaseCard(caseData) {
        const div = document.createElement('div');
        div.className = 'card case-card';
        div.onclick = () => viewCase(caseData.key);
        
        const complexityColor = {
            'Medium': 'var(--md-sys-color-tertiary)',
            'High': 'var(--md-sys-color-secondary)',
            'Very High': 'var(--md-sys-color-error)',
            'Critical': 'var(--md-sys-color-error)'
        }[caseData.complexity] || 'var(--md-sys-color-outline)';
        
        div.innerHTML = `
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                <span class="specialty-badge">${caseData.specialty}</span>
                <span class="complexity-indicator" style="color: ${complexityColor};">
                    <span class="material-symbols-rounded" style="font-size: 16px;">signal_cellular_alt</span>
                    ${caseData.complexity}
                </span>
            </div>
            <h3 style="font-size: var(--md-sys-typescale-title-large); margin-bottom: 8px;">
                ${caseData.title}
            </h3>
            <p style="color: var(--md-sys-color-on-surface-variant); margin-bottom: 16px;">
                ${caseData.description}
            </p>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size: 12px; color: var(--md-sys-color-outline);">
                    ${caseData.has_report ? '✓ Report available' : 'No report yet'}
                </span>
                <button class="btn btn-text" style="padding: 8px 16px;">
                    View Details
                    <span class="material-symbols-rounded">arrow_forward</span>
                </button>
            </div>
        `;
        
        return div;
    }
    
    function viewCase(caseKey) {
        // For now, just log - will implement case viewer
        console.log('Viewing case:', caseKey);
        window.location.href = `/case/${caseKey}`;
    }
    
    function scrollToSection(sectionId) {
        document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
    }
</script>
{% endblock %}